(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 11.2' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     10510,        273]
NotebookOptionsPosition[      9894,        256]
NotebookOutlinePosition[     10273,        272]
CellTagsIndexPosition[     10230,        269]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{
    RowBox[{"Hier", " ", "dachte", " ", "ich"}], ",", " ", 
    RowBox[{"dass", " ", "es", " ", "so", " ", "cleverer", " ", "ist"}], ",", 
    " ", 
    RowBox[{
     RowBox[{"als", " ", "mit", " ", "der", " ", "Levenshtein"}], "-", 
     RowBox[{"Distanz", " ", "zu", " ", "arbeiten"}]}], ",", " ", 
    RowBox[{
    "aber", " ", "da", " ", "verlieren", " ", "wir", " ", "wohl", " ", "die", 
     " ", "Vektorisierung", " ", "und", " ", "dann", " ", "ist", " ", "es", 
     " ", "nat\[UDoubleDot]rlich", " ", "viel", " ", "langsamer"}]}], " ", 
   "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"oneStepEqualQ", "=", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"v", ",", "w"}], "}"}], "\[Function]", 
      RowBox[{"Module", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"c", "=", "1"}], ",", 
          RowBox[{"miss", "=", "0"}]}], "}"}], ",", "\[IndentingNewLine]", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"miss", ":", " ", 
           RowBox[{
            RowBox[{"Anzahl", " ", "der", " ", "nicht"}], "-", 
            RowBox[{"\[UDoubleDot]bereinstimmenden", " ", "Zeichen"}]}]}], 
          ",", " ", 
          RowBox[{"die", " ", "gelesen", " ", 
           RowBox[{"wurden", ".", " ", 
            RowBox[{"c", ":", " ", 
             RowBox[{
             "wie", " ", "viele", " ", "Zeichen", " ", "gelesen", " ", 
              "wurden"}]}]}]}], ",", " ", 
          RowBox[{
           RowBox[{"bis", " ", "miss"}], "=", 
           RowBox[{"2", " ", "war"}]}]}], " ", "*)"}], "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"While", "[", 
          RowBox[{
           RowBox[{"c", "\[LessEqual]", "l"}], ",", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"StringTake", "[", 
                RowBox[{"v", ",", 
                 RowBox[{"{", "c", "}"}]}], "]"}], "\[NotEqual]", 
               RowBox[{"StringTake", "[", 
                RowBox[{"w", ",", 
                 RowBox[{"{", "c", "}"}]}], "]"}]}], ",", 
              RowBox[{"miss", "++"}]}], "]"}], ";", "\[IndentingNewLine]", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"miss", "\[GreaterEqual]", "2"}], ",", 
              RowBox[{"Break", "[", "]"}], ",", 
              RowBox[{"c", "++"}]}], "]"}]}]}], "\[IndentingNewLine]", "]"}], 
         ";", " ", "\[IndentingNewLine]", 
         RowBox[{"c", ">", "l"}]}]}], "\[IndentingNewLine]", "]"}]}]}], ";"}],
    "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"oneStepLongerQ", "=", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"v", ",", "w"}], "}"}], "\[Function]", 
      RowBox[{"Module", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"c", "=", "1"}], ",", 
          RowBox[{"miss", "=", "0"}]}], "}"}], ",", "\[IndentingNewLine]", 
        RowBox[{"(*", 
         RowBox[{"Beachte", ",", " ", 
          RowBox[{
          "dass", " ", "w", " ", "das", " ", "l\[ADoubleDot]ngere", " ", 
           "Wort", " ", "sein", " ", "muss"}]}], "*)"}], 
        "\[IndentingNewLine]", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"Variablen", " ", "wie", " ", 
           RowBox[{"oben", ".", " ", "Beachte"}]}], ",", " ", 
          RowBox[{
           RowBox[{
           "dass", " ", "bei", " ", "der", " ", "ersten", " ", "Nicht"}], "-", 
           RowBox[{"\[CapitalUDoubleDot]bereinstimmung", " ", "kein", " ", 
            RowBox[{"c", "++"}], " ", 
            RowBox[{"ist", ".", " ", "Also"}], " ", 
            RowBox[{"c", "++"}], " ", "genau", " ", "dann", " ", "wenn", " ", 
            "nicht", " ", 
            RowBox[{
             RowBox[{"miss", "++"}], ".", " ", "Daher"}], " ", "braucht", " ",
             "es", " ", "nur", " ", "eine", " ", "If"}], "-", "Abfrage"}]}], 
         "*)"}], "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"While", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"c", "\[LessEqual]", "l"}], "&&", 
            RowBox[{"miss", "\[LessEqual]", "1"}]}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"StringTake", "[", 
                RowBox[{"v", ",", 
                 RowBox[{"{", "c", "}"}]}], "]"}], "\[NotEqual]", 
               RowBox[{"StringTake", "[", 
                RowBox[{"w", ",", 
                 RowBox[{"{", 
                  RowBox[{"c", "+", "miss"}], "}"}]}], "]"}]}], ",", 
              RowBox[{"miss", "++"}], ",", 
              RowBox[{"c", "++"}]}], "]"}], ";"}]}], "\[IndentingNewLine]", 
          "]"}], ";", "\[IndentingNewLine]", 
         RowBox[{"c", ">", "l"}]}]}], "\[IndentingNewLine]", "]"}]}]}], 
    ";"}]}]}]], "Input",
 CellChangeTimes->{{3.766602771869114*^9, 3.76660288036432*^9}, {
  3.8486305273042116`*^9, 
  3.8486306160059676`*^9}},ExpressionUUID->"a8ed3522-0740-46a1-851a-\
a033eb25c91f"],

Cell[BoxData[
 RowBox[{"(*", " ", 
  RowBox[{
   RowBox[{"Wenn", " ", "man", " ", "onestep", " ", "ausschreibt"}], ",", " ", 
   RowBox[{"dauert", " ", "es", " ", "sogar", " ", 
    RowBox[{"l\[ADoubleDot]nger", ".", " ", "Obwohl"}], " ", "noch", " ", 
    "ein", " ", "paar", " ", "if", " ", "gespart", " ", 
    RowBox[{"werden", ".", " ", "Ich"}], " ", "hab", " ", "keine", " ", 
    "Ahnung"}], ",", " ", 
   RowBox[{
    RowBox[{"warum", ".", " ", "Aber"}], " ", "deswegen", " ", "nutze", " ", 
    "ich", " ", "halt", " ", 
    RowBox[{"onestep", "."}]}]}], " ", "*)"}]], "Input",
 CellChangeTimes->{{3.8486341416496906`*^9, 
  3.8486342038718367`*^9}},ExpressionUUID->"0b3deca1-d721-4889-9559-\
eb286a204009"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"l", "=", "3"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"AbsoluteTiming", "[", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"a", "=", 
    RowBox[{"Association", "@", 
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"w", "->", 
         RowBox[{"Union", "[", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"Cases", "[", 
            RowBox[{
             RowBox[{"germanICPartL", "\[LeftDoubleBracket]", 
              RowBox[{"l", "+", "1"}], "\[RightDoubleBracket]"}], ",", 
             RowBox[{"x_", "/;", 
              RowBox[{
               RowBox[{"DamerauLevenshteinDistance", "[", 
                RowBox[{"x", ",", "w"}], "]"}], "\[Equal]", "1"}]}]}], "]"}], 
           ",", "\[IndentingNewLine]", 
           RowBox[{"Cases", "[", 
            RowBox[{
             RowBox[{
             "germanICPartL", "\[LeftDoubleBracket]", "l", 
              "\[RightDoubleBracket]"}], ",", 
             RowBox[{"x_", "/;", 
              RowBox[{
               RowBox[{"DamerauLevenshteinDistance", "[", 
                RowBox[{"x", ",", "w"}], "]"}], "\[Equal]", "1"}]}]}], "]"}], 
           ",", "\[IndentingNewLine]", 
           RowBox[{"Cases", "[", 
            RowBox[{
             RowBox[{"germanICPartL", "\[LeftDoubleBracket]", 
              RowBox[{"l", "-", "1"}], "\[RightDoubleBracket]"}], ",", 
             RowBox[{"x_", "/;", 
              RowBox[{
               RowBox[{"DamerauLevenshteinDistance", "[", 
                RowBox[{"x", ",", "w"}], "]"}], "\[Equal]", "1"}]}]}], 
            "]"}]}], "\[IndentingNewLine]", "]"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"w", ",", 
         RowBox[{
         "germanICPartL", "\[LeftDoubleBracket]", "l", 
          "\[RightDoubleBracket]"}]}], "}"}]}], "]"}]}]}], ";"}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"AbsoluteTiming", "[", "\[IndentingNewLine]", 
   RowBox[{"Export", "[", 
    RowBox[{
     RowBox[{
     "\"\<D:\\\\Muh\\\\Mathematica\\\\W\[ODoubleDot]rterlisten\\\\neighbours_\
0\>\"", "<>", 
      RowBox[{"ToString", "[", "l", "]"}], "<>", "\"\<.txt\>\""}], ",", "a", 
     ",", "\"\<WDX\>\""}], "]"}], "\[IndentingNewLine]", "]"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"l", "=", "3"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"AbsoluteTiming", "[", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"a", "=", 
    RowBox[{"Association", "@", 
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"w", "\[Rule]", 
         RowBox[{"onestep", "[", "w", "]"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"w", ",", 
         RowBox[{
         "germanICPartL", "\[LeftDoubleBracket]", "l", 
          "\[RightDoubleBracket]"}]}], "}"}]}], "]"}]}]}], ";"}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"AbsoluteTiming", "[", "\[IndentingNewLine]", 
  RowBox[{"Export", "[", 
   RowBox[{
    RowBox[{
    "\"\<D:\\\\Muh\\\\Mathematica\\\\W\[ODoubleDot]rterlisten\\\\neighbours_0\
\>\"", "<>", 
     RowBox[{"ToString", "[", "l", "]"}], "<>", "\"\<.txt\>\""}], ",", "a", 
    ",", "\"\<WDX\>\""}], "]"}], "\[IndentingNewLine]", "]"}]}], "Input",
 CellChangeTimes->{{3.848634185471811*^9, 
  3.8486341953818245`*^9}},ExpressionUUID->"52a39bf7-ee51-4edd-bb2a-\
8bf9e2148176"],

Cell[BoxData[
 RowBox[{"(*", "*)"}]], "Input",
 CellChangeTimes->{{3.848634182161806*^9, 
  3.8486341824518065`*^9}},ExpressionUUID->"96c89632-729b-4157-86ed-\
70c77589e641"]
},
WindowSize->{1904, 992},
WindowMargins->{{1920, Automatic}, {Automatic, 0}},
Magnification:>1.6 Inherited,
FrontEndVersion->"11.2 for Microsoft Windows (64-bit) (September 10, 2017)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 5096, 125, 586, "Input",ExpressionUUID->"a8ed3522-0740-46a1-851a-a033eb25c91f"],
Cell[5657, 147, 716, 15, 76, "Input",ExpressionUUID->"0b3deca1-d721-4889-9559-eb286a204009"],
Cell[6376, 164, 3337, 84, 526, "Input",ExpressionUUID->"52a39bf7-ee51-4edd-bb2a-8bf9e2148176"],
Cell[9716, 250, 174, 4, 45, "Input",ExpressionUUID->"96c89632-729b-4157-86ed-70c77589e641"]
}
]
*)

